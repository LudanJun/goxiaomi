{{ define "admin/manager/edit.html" }}
{{ template "admin/public/page_header.html" .}}



<div class="panel panel-default">
    <div class="panel-heading">
        修改管理员
    </div>
    <div class="panel-body">
        <div class="table-responsive input-form">
            <form action="/admin/manager/doEdit" method="post">
                <ul>
                    <!-- 定义一个隐藏的表单域 -->
                    <input type="hidden" name="id" value="{{.manager.Id}}" /> //
                    <li> 管理员名称: <input type="text" name="username" readonly value="{{.manager.Username}}" /></li>
                    <li> 管理员密码: <input type="password" name="password" /> 提示：为空表示不修改密码</li>
                    <li> 管理员电话: <input type="text" name="mobile" value="{{.manager.Mobile}}" /></li>
                    <li> 管理员邮箱: <input type="text" name="email" value="{{.manager.Email}}" /></li>
                    <li> 管理员角色:
                        <select name="role_id" id="role_id">
                            <!-- 变量$roleId 接收 .manager.RoleId -->
                            <!-- 获取当前管理员的角色id -->
                            {{$roleId := .manager.RoleId}}
                            <!-- 遍历角色列表 -->
                            {{range $key,$value := .roleList}}
                            <!-- 如果当前角色id等于管理员的角色id -->
                            {{if eq $value.Id $roleId}}
                            <!-- 设置为选中状态 -->
                            <option selected value="{{$value.Id}}">{{$value.Title}}</option>
                            {{else}}
                            <!-- 否则设置为未选中状态 -->
                            <option value="{{$value.Id}}">{{$value.Title}}</option>
                            {{end}}
                            {{end}}
                        </select>

                    </li>
                    <li>
                        <br />
                        <button type="submit" class="btn btn-default">提交</button>
                    </li>

                </ul>


            </form>

        </div>
    </div>


</div>


</body>

</html>

{{end}}